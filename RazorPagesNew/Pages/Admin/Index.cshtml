@page
@model RazorPagesNew.Pages.Admin.IndexModel
@{
    ViewData["Title"] = "Панель администрирования";
}

<div class="container-fluid">
    <div class="row mb-4">
        <div class="col-12">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h5 class="mb-0"><i class="fas fa-cog me-2"></i>Панель администрирования</h5>
                </div>
                <div class="card-body">
                    <p class="mb-4">
                        Добро пожаловать в панель администрирования системы оценки персонала.
                        Здесь вы можете управлять пользователями, ролями, отделами и другими настройками системы.
                    </p>

                    <div class="row">
                        <div class="col-md-4 mb-4">
                            <div class="card h-100">
                                <div class="card-header bg-light">
                                    <h5 class="mb-0">Управление пользователями</h5>
                                </div>
                                <div class="card-body">
                                    <p class="card-text">
                                        Создание, редактирование, удаление пользователей и управление их ролями.
                                    </p>
                                    <div class="text-center">
                                        <a asp-page="./Users" class="btn btn-primary">
                                            <i class="fas fa-user-cog me-1"></i> Пользователи
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4 mb-4">
                            <div class="card h-100">
                                <div class="card-header bg-light">
                                    <h5 class="mb-0">Управление ролями</h5>
                                </div>
                                <div class="card-body">
                                    <p class="card-text">
                                        Создание и настройка ролей пользователей системы, а также их синхронизация.
                                    </p>
                                    <div class="text-center">
                                        <a asp-page="./Roles" class="btn btn-primary">
                                            <i class="fas fa-user-tag me-1"></i> Роли
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4 mb-4">
                            <div class="card h-100">
                                <div class="card-header bg-light">
                                    <h5 class="mb-0">Управление отделами</h5>
                                </div>
                                <div class="card-body">
                                    <p class="card-text">
                                        Создание, редактирование и удаление отделов компании.
                                    </p>
                                    <div class="text-center">
                                        <a asp-page="./Departments" class="btn btn-primary">
                                            <i class="fas fa-building me-1"></i> Отделы
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4 mb-4">
                            <div class="card h-100">
                                <div class="card-header bg-light">
                                    <h5 class="mb-0">Настройки системы</h5>
                                </div>
                                <div class="card-body">
                                    <p class="card-text">
                                        Общие настройки системы оценки персонала.
                                    </p>
                                    <div class="text-center">
                                        <a asp-page="./SystemSettings" class="btn btn-primary">
                                            <i class="fas fa-sliders-h me-1"></i> Настройки
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4 mb-4">
                            <div class="card h-100">
                                <div class="card-header bg-light">
                                    <h5 class="mb-0">Журнал аудита</h5>
                                </div>
                                <div class="card-body">
                                    <p class="card-text">
                                        Просмотр истории действий пользователей и системных событий.
                                    </p>
                                    <div class="text-center">
                                        <a asp-page="./AuditLog" class="btn btn-primary">
                                            <i class="fas fa-history me-1"></i> Журнал аудита
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-md-4 mb-4">
                            <div class="card h-100">
                                <div class="card-header bg-light">
                                    <h5 class="mb-0">Диагностика системы</h5>
                                </div>
                                <div class="card-body">
                                    <p class="card-text">
                                        Проверка статуса системы, синхронизация данных и диагностика проблем.
                                    </p>
                                    <div class="text-center">
                                        <a asp-page="./Diagnostics" class="btn btn-primary">
                                            <i class="fas fa-stethoscope me-1"></i> Диагностика
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mt-4">
                        <div class="card">
                            <div class="card-header bg-light">
                                <h5 class="mb-0">Синхронизация данных</h5>
                            </div>
                            <div class="card-body">
                                <p>
                                    Система использует как ASP.NET Core Identity, так и кастомную систему ролей и пользователей.
                                    Для обеспечения целостности данных вы можете запустить ручную синхронизацию.
                                </p>
                                <div class="d-flex">
                                    <form method="post" asp-page-handler="SyncRoles" class="me-2">
                                        <button type="submit" class="btn btn-primary">
                                            <i class="fas fa-sync me-1"></i> Синхронизировать роли
                                        </button>
                                    </form>
                                    <form method="post" asp-page-handler="SyncUsers">
                                        <button type="submit" class="btn btn-secondary">
                                            <i class="fas fa-sync me-1"></i> Синхронизировать пользователей
                                        </button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>